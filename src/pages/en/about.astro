---
import BaseLayout from '../../layouts/BaseLayout.astro';
import ProfileCard from '../../components/about/ProfileCard.astro';
import ExperienceCard from '../../components/about/ExperienceCard.astro';
import SkillsCard from '../../components/about/SkillsCard.astro';
import EducationCard from '../../components/about/EducationCard.astro';
import { getLangFromUrl, useTranslations } from '../../i18n/utils';

const lang = getLangFromUrl(Astro.url) as "en" | "es";
const t = useTranslations(lang);
---

<BaseLayout title={t('about.title')} lang={lang}>
  <main class="container mx-auto px-4 py-8">
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
      <!-- Left Column - Personal Information -->
      <div class="space-y-6">
        <ProfileCard
          role={t('about.role')}
          tagline={t('about.tagline')}
          description={t('about.description')}
        />

        <ExperienceCard
          title={t('about.experience.title')}
          currentRole={t('about.experience.current.role')}
          currentPeriod={t('about.experience.current.period')}
          currentDescription={t('about.experience.current.description')}
        />
      </div>

      <!-- Right Column - Skills & Technologies -->
      <div class="space-y-6">
        <SkillsCard
          title={t('about.skills.title')}
          languagesTitle={t('about.skills.languages')}
          frameworksTitle={t('about.skills.frameworks')}
          toolsTitle={t('about.skills.tools')}
          otherTitle={t('about.skills.other')}
        />

        <EducationCard
          title={t('about.education.title')}
          degree={t('about.education.degree')}
          period={t('about.education.period')}
          description={t('about.education.description')}
        />
      </div>
    </div>
  </main>
</BaseLayout>

<style>
  .timeline {
    position: relative;
    padding-left: 2rem;
  }

  .timeline-item {
    position: relative;
    padding-bottom: 2rem;
  }

  .timeline-marker {
    position: absolute;
    left: -2rem;
    width: 1rem;
    height: 1rem;
    border-radius: 50%;
    background-color: hsl(var(--p));
    border: 2px solid hsl(var(--b1));
  }

  .timeline-item:not(:last-child)::before {
    content: '';
    position: absolute;
    left: -1.5rem;
    top: 1rem;
    bottom: 0;
    width: 2px;
    background-color: hsl(var(--p));
  }
</style> 