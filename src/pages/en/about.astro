---
import EducationCard from "../../components/about/EducationCard.astro";
import ExperienceCard from "../../components/about/ExperienceCard.astro";
import ProfileCard from "../../components/about/ProfileCard.astro";
import SummaryCard from "../../components/about/SummaryCard.astro";
import { getLangFromUrl, useTranslations } from "../../i18n/utils";
import MainLayout from "../../layouts/MainLayout.astro";
import experiencesData from "../../i18n/languages/experiences/en.json";
import Projects from "../../components/about/Projects.astro";

const lang = getLangFromUrl(Astro.url) as "en" | "es";
const t = useTranslations(lang);

// SEO metadata
const title = "Ariel Itzli Molina Sanchez | CÃ³digo Obsidiana";
const description =
  "Frontend Tech Lead & Architect with 8+ years of experience building modular and scalable UI systems, specializing in frontend architecture and design systems.";
---

<MainLayout title={title} lang={lang} description={description} type="profile">
  <div class="lg:flex lg:justify-between lg:gap-10">
    <!-- Left column / Mobile header -->
    <header
      class="lg:sticky lg:top-0 lg:flex lg:max-h-screen lg:w-1/2 lg:flex-col lg:justify-between py-4"
    >
      <ProfileCard
        role={t("about.role")}
        tagline={t("about.tagline")}
        description={t("about.description")}
      />
    </header>

    <!-- Main scrollable content -->
    <div class="lg:w-1/2 my-4">
      <div class="space-y-16">
        <section id="summary" class="group/section">
          <SummaryCard
            title={t("about.summary.title")}
            summary={t("about.summary.content")}
          />
        </section>

        <section id="experience" class="group/section">
          <ExperienceCard
            title={t("about.experience.title")}
            experiences={experiencesData.experiences}
          />
        </section>

        <section id="projects" class="group/section">
          <Projects />
        </section>

        <section id="education" class="group/section">
          <EducationCard
            title={t("about.education.title")}
            degree={t("about.education.degree")}
            period={t("about.education.period")}
            description={t("about.education.description")}
          />
        </section>
      </div>
    </div>
  </div>
</MainLayout>

<style>
  /* Smooth scrolling between sections */
  html {
    scroll-behavior: smooth;
  }

  /* Ensure sections have enough padding for scrolling */
  section {
    scroll-margin-top: 2rem;
  }
</style>
