---
import { getLangFromUrl, useTranslations } from "../../i18n/utils";
import MainLayout from "../../layouts/MainLayout.astro";
import HeroSection from "../../components/home/HeroSection.astro";
import FeaturedPostsSection from "../../components/home/FeaturedPostsSection.astro";
import AboutPreviewSection from "../../components/home/AboutPreviewSection.astro";
import ConnectSection from "../../components/home/ConnectSection.astro";

const lang = getLangFromUrl(Astro.url) as "en" | "es";
const t = useTranslations(lang);

// SEO metadata
const title = t('home.meta.title');
const description = t('home.meta.description');
---

<MainLayout 
    lang={lang} 
    title={title} 
    description={description}
    type="website"
>
    <main class="flex flex-col gap-12 md:gap-16 lg:gap-24">
        <HeroSection lang={lang} t={t} />
        <FeaturedPostsSection lang={lang} t={t} />
        <AboutPreviewSection lang={lang} t={t} />
        <ConnectSection lang={lang} t={t} />
    </main>
</MainLayout>
